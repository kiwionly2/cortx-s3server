/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
}

repositories {
    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
}

dependencies {

	implementation project(':encryptutil')
	
    implementation 'io.netty:netty-all:4.1.63.Final'
    implementation 'commons-codec:commons-codec:1.10'
    implementation 'com.novell.ldap:jldap:4.3'
    implementation 'org.opensaml:opensaml:2.6.4'
    implementation 'org.slf4j:slf4j-api:1.7.20'
    implementation 'org.apache.logging.log4j:log4j-api:2.13.2'
    implementation 'org.apache.logging.log4j:log4j-core:2.13.2'
    implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.13.2'
    implementation 'commons-validator:commons-validator:1.7'
    implementation 'com.google.code.gson:gson:2.5'
    implementation 'org.apache.httpcomponents:httpclient:4.5.13'
    implementation 'org.json:json:20210307'
    
 	implementation platform('com.amazonaws:aws-java-sdk-bom:1.12.97')
    implementation 'com.amazonaws:aws-java-sdk-core'
    implementation 'com.amazonaws:aws-java-sdk-s3'
    
    testImplementation 'com.github.stefanbirkner:system-rules:1.16.0'
    testImplementation 'junit:junit:4.13.1'
    testImplementation 'org.mockito:mockito-all:1.10.19'    
    //testImplementation 'org.mockito:mockito-core:4.0.0'
    testImplementation 'org.powermock:powermock-module-junit4:1.6.4'
    testImplementation 'org.powermock:powermock-api-mockito:1.6.4'
}

group = 'com.seagates3'
version = '1.0-0'
description = 'AuthServer'
java.sourceCompatibility = JavaVersion.VERSION_1_8

jar.baseName = 'AuthServer'

jar {
	manifest { 
		attributes 'Main-Class': 'com.seagates3.authserver.AuthServer'
	}  

 	from {
 		exclude '**/module-info.class' 		
 		exclude 'META-INF/**'
 		
		configurations.runtimeClasspath.collect {			
			it.isDirectory() ? it : zipTree(it)
		}
  	}
}


